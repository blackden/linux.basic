# Otus. Linux Basic

## 3. Bash. –ù–∞–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

–í–æ—Ç –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏–∑ —É—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª —Å—Ç—É–¥–µ–Ω—Ç–∞–º. –ò—Ö –º–æ–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub. üöÄ

---

### 1. –ü–µ—Ä–≤—ã–π Bash-—Å–∫—Ä–∏–ø—Ç

```bash
#!/bin/bash
echo "–ü—Ä–∏–≤–µ—Ç, Bash!"

üìå –ó–∞–ø—É—Å–∫:

chmod +x script.sh
./script.s
```

---

### 2. –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

```bash
#!/bin/bash
name="–ê–Ω–Ω–∞"
echo "–ü—Ä–∏–≤–µ—Ç, $name!"
```

üìå –í–≤–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
read -p "–í–≤–µ–¥–∏—Ç–µ –∏–º—è: " username
echo "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, $username!"
```

---

### 3. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```bash
#!/bin/bash
echo "–ü—Ä–∏–≤–µ—Ç, $1!"
```

üìå –ó–∞–ø—É—Å–∫:

```sh
./script.sh –ê–ª–µ–∫—Å–µ–π
```

---

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```bash
#!/bin/bash
if [ -z "$1" ]; then
    echo "–û—à–∏–±–∫–∞: –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç"
    exit 1
fi
echo "–ü–µ—Ä–µ–¥–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç: $1"
```

---

### 5. –£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (if, case)

```bash
#!/bin/bash
if [ "$1" == "start" ]; then
    echo "–ó–∞–ø—É—Å–∫..."
elif [ "$1" == "stop" ]; then
    echo "–û—Å—Ç–∞–Ω–æ–≤–∫–∞..."
else
    echo "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞"
fi
```

üìå –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å case:

```bash
#!/bin/bash
case "$1" in
    start) echo "–ó–∞–ø—É—Å–∫...";;
    stop) echo "–û—Å—Ç–∞–Ω–æ–≤–∫–∞...";;
    *) echo "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞";;
esac
```

---

### 6. –¶–∏–∫–ª—ã (for, while)

üìå –¶–∏–∫–ª for (–ø–µ—Ä–µ–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π):

```bash
#!/bin/bash
for name in –ê–Ω–Ω–∞ –ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω; do
    echo "–ü—Ä–∏–≤–µ—Ç, $name!"
done
```

üìå –¶–∏–∫–ª while (–ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ):

```bash
#!/bin/bash
count=1
while [ "$count" -le 5 ]; do
    echo "–°—á—ë—Ç—á–∏–∫: $count"
    ((count++))
done
```

---

### 7. –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏

üìå –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞:

```bash
#!/bin/bash
if [ -e "file.txt" ]; then
    echo "–§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!"
else
    echo "–§–∞–π–ª –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!"
fi
```

üìå –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (.bak, .tmp, .backup)

```bash
#!/bin/bash
for ext in bak tmp backup; do
    for file in *.$ext; do
        [ -e "$file" ] && echo "–£–¥–∞–ª—è—é: $file" && rm "$file"
    done
done
```

---

### 8. –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

üìå –ß—Ç–µ–Ω–∏–µ resolv.conf

```bash
cat /etc/resolv.conf
```

üìå –ò–∑–º–µ–Ω–µ–Ω–∏–µ resolv.conf (sed)

```bash
sed -i '' 's/nameserver .*/nameserver 8.8.8.8/' resolv.conf
```

üìå –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å –±—ç–∫–∞–ø–æ–º:

```bash
cp resolv.conf resolv.conf.bak
sed -i '' 's/nameserver .*/nameserver 8.8.8.8/' resolv.conf
```

---

### 9. –ò—Ç–æ–≥–æ–≤—ã–π –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
#!/bin/bash

if [ -z "$1" ]; then
    echo "–û—à–∏–±–∫–∞: –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è"
    exit 1
fi

if [ ! -d "$1" ]; then
    echo "–û—à–∏–±–∫–∞: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
    exit 2
fi

for ext in bak tmp backup; do
    for file in "$1"/*.$ext; do
        [ -e "$file" ] && echo "–£–¥–∞–ª—è—é: $file" && rm "$file"
    done
done

echo "–û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
```

üìå –ó–∞–ø—É—Å–∫:

```bash
./clean_temp.sh /–ø—É—Ç—å/–∫/–ø–∞–ø–∫–µ
```

---
